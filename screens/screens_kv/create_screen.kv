<CustomOneLineIconListItem>:
    font_name: "Geosans"

    IconLeftWidget:
        id: left_widget
        icon: "plus-circle-outline"
        user_font_size: 23
        on_release:
            root.add_exercise()

<RoutineGrid>:
    cols: 1
    padding: 0, 10
    spacing: 0, 10
    size_hint_y: None
    height: self.minimum_height

<CreateScreen>:
    name: "create_screen"
    NavigationLayout:
        ScreenManager:
            Screen:
                id: screen
                FloatLayout:
                    canvas:
                        Color:
                            rgba: rgba('#ffffff')
                        Rectangle:
                            pos: self.pos
                            size: self.size

                        Color:
                            rgba: rgba('#75ff85')
                        Rectangle:
                            pos: self.pos[0], screen.size[1]-125
                            size: self.size[0], 125

                        Color:
                            rgba: rgba('#8a8a8a')
                        Rectangle:
                            pos: self.pos[0], screen.size[1]-125
                            size: self.size[0], 1

                        Color:
                            rgba: rgba('#8a8a8a')
                        Rectangle:
                            pos: 0, 80
                            size: self.size[0], 1

                        Color:
                            rgba: rgba('#8a8a8a')
                        Rectangle:
                            pos: self.size[0]/3, 0
                            size: 1, 80

                        Color:
                            rgba: rgba('#8a8a8a')
                        Rectangle:
                            pos: 2 * self.size[0]/3, 0
                            size: 1, 80

                    MDLabel:
                        text: "Create A New Routine"
                        font_size: 35
                        font_name: "Geosans"
                        color: 0, 0, 0, 1
                        size_hint: 1, None
                        height: 50
                        halign: "center"
                        y: screen.size[1] - 60

                    MDTextField:
                        id: routine_name
                        font_name: "Geosans"
                        size_hint: None, None
                        size: 300, 50
                        font_size: 25
                        color_mode: "custom"
                        pos_hint: {"center_x": 0.5}
                        y: screen.size[1] - 120
                        hint_text: "Routine Name"
                        max_text_length: 20
                        line_color_focus: (0, 0, 0, 1)
                        line_color_normal: (0, 0, 0, 1)
                        current_hint_text_color: (0, 0, 0, 1)

                    ScrollView:
                        id: routine_scroll
                        size_hint: 1, None
                        height: screen.size[1] - 206
                        pos: 0, 81

                    MDIconButton:
                        theme_text_color: "Custom"
                        text_color: rgba('#75ff85')
                        icon: "arrow-left-bold"
                        pos: 1, 0
                        size: screen.size[0]/3 - 2, 80

                    MDFlatButton:
                        pos: 0, 0
                        size: screen.size[0]/3, 80
                        on_release:
                            screen = app.screen_action("gym_screen", "right", "R/T")
                            screen.start()

                    MDIconButton:
                        theme_text_color: "Custom"
                        text_color: rgba('#75ff85')
                        icon: "home-variant"
                        pos: screen.size[0]/3 + 1, 0
                        size: screen.size[0]/3 - 2, 80

                    MDFlatButton:
                        pos: screen.size[0]/3, 0
                        size: screen.size[0]/3, screen.size[1]/10
                        on_release:
                            app.screen_action("home_screen", "right", "R/T").start()

                    MDIconButton:
                        theme_text_color: "Custom"
                        text_color: rgba('#75ff85')
                        icon: "cogs"
                        pos: 2 * screen.size[0]/3 + 1, 0
                        size: screen.size[0]/3 - 2, 80

                    MDFlatButton:
                        pos: 2 * screen.size[0]/3, 0
                        size: screen.size[0]/3, 80

                    MDCard:
                        id: muscle_pick
                        size_hint: 1,None
                        height: screen.size[1]-205
                        pos: screen.size[0]+50, 80
                        canvas:
                            Color:
                                rgba: rgba('#75ff85')
                            Rectangle:
                                pos: self.pos
                                size: self.size
                            Color:
                                rgba: rgba('#ffffff')
                            Rectangle:
                                pos: self.pos[0] + 2, self.pos[1] + 2
                                size: self.size[0] - 4, self.size[1] - 4
                        GridLayout:
                            cols: 1
                            padding: 10, 10
                            spacing: 0, 10
                            size_hint_y: 1
                            GridLayout:
                                spacing: 10, 10
                                cols: 2
                                id: muscle_pick_grid
                                size_hint_y: 6/7

                            MDRaisedButton:
                                text: "Cancel"
                                size_hint: 1, 1/7
                                font_name: "Geosans"
                                font_size: 25
                                md_bg_color: (117 / 255, 1, 133 / 255, 1)
                                text_color: (0, 0, 0, 1)
                                _no_ripple_effect: True
                                on_release:
                                    root.remove_muscle_pick()


                    MDCard:
                        id: exercise_pick
                        size_hint: 1,None
                        height: screen.size[1]-205
                        pos: -(screen.size[0]+50) ,80
                        canvas:
                            Color:
                                rgba: rgba('#75ff85')
                            Rectangle:
                                pos: self.pos
                                size: self.size
                            Color:
                                rgba: rgba('#ffffff')
                            Rectangle:
                                pos: self.pos[0] + 2, self.pos[1] + 2
                                size: self.size[0] - 4, self.size[1] - 4
                        GridLayout:
                            cols: 1
                            padding: 10, 10
                            spacing: 0, 10
                            size_hint_y: 1
                            BoxLayout:
                                size_hint_y: 1/8

                                MDIconButton:
                                    icon: 'magnify'
                                    user_font_size: 25

                                MDTextField:
                                    id: search_field
                                    size_hint_x: 1/2
                                    hint_text: 'Search Exercise'
                                    color_mode: 'custom'
                                    line_color_focus: (0, 0, 0, 1)
                                    line_color_normal: (0, 0, 0, 1)
                                    current_hint_text_color: (0, 0, 0, 1)
                                    on_text: root.exercise_search(self.text, True)

                            RecycleView:
                                size_hint_y: 6/8
                                key_viewclass: 'viewclass'
                                key_size: 'height'

                                MDList:
                                    id: container
                                    padding: dp(10)
                                    default_size: None, dp(48)
                                    default_size_hint: 1, None
                                    size_hint_y: None
                                    height: self.minimum_height

                            MDRaisedButton:
                                text: "Cancel"
                                size_hint: 1, 1/8
                                font_name: "Geosans"
                                font_size: 25
                                md_bg_color: (117 / 255, 1, 133 / 255, 1)
                                text_color: (0, 0, 0, 1)
                                _no_ripple_effect: True
                                on_release:
                                    root.remove_exercise_pick()